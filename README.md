# ⏱️ TimeCapsule

## 📌 목차  
- [프로젝트 요약](#📌-프로젝트-요약)  
- [진행 상황](#📅-진행-상황)  
- [구현 결과](#🖥-구현-결과)  
- [트러블 슈팅](#🛠-트러블-슈팅)  
- [학습한 내용](#📚-학습한-내용)  
- [느낀 점](#💬-느낀-점)  

---

## 📌 프로젝트 요약  

| 항목              | 상세 내용 |
|-----------------|--------------------------------------------------------------|
| **기여도**       | **100% (1인 개발)** |
| **프로젝트 목적** | 소셜 기능을 갖춘 디지털 타임캡슐 앱 개발 |
| **구현 기간**    | **2024.05.25 ~ 진행중 ** |
| **기술 스택**    | **Flutter / Dart / Firebase (Auth, Firestore, Storage) / Provider** |
| **핵심 기능**    | ✅ Firebase 기반 인증 시스템  <br> ✅ 온보딩 스와이프 화면  <br> ✅ 소셜 기능 (친구/팔로워 시스템)  <br> ✅ 커스텀 UI 컴포넌트  <br> ✅ 타임캡슐 생성/관리 기반 구축  |

---

## 📅 진행 상황  

| 날짜          | 작업 내용 |
|--------------|-------------------------------------------|
| **2024.05.25** | 📌 **프로젝트 기획 및 Firebase 초기 설정**  <br> - 온보딩 화면 구현 <br> - 소셜 기능 모델링  <br> - Firebase 인증 시스템 구현 <br> - 커스텀 UI 컴포넌트 개발|

---

## 🖥 구현 결과

### 앱 주요 화면

<table>
<tr>
 <td align="center" width="33%"><strong>온보딩 화면</strong><br>스와이프 가능한 4개 페이지<br>타임캡슐 주요 기능 소개</td>
 <td align="center" width="33%"><strong>로그인 화면</strong><br>Firebase Authentication 연동<br>유효성 검증 포함</td>
 <td align="center" width="33%"><strong>회원가입 화면</strong><br>실시간 폼 검증<br>이용약관 동의 기능</td>
</tr>
</table>

### 핵심 기능

#### 1. 소셜 타임캡슐 시스템
- **친구/팔로워 관리**: 사용자 간 관계 설정 및 관리
- **친구 요청 시스템**: 요청 보내기/받기, 승인/거절 기능
- **공유 캡슐**: 특정 사용자들에게만 전송 가능한 타임캡슐

#### 2. Firebase 기반 백엔드
- **Authentication**: 이메일/비밀번호 인증
- **Firestore**: 사용자 데이터 및 타임캡슐 저장
- **실시간 동기화**: Stream 기반 데이터 변화 감지

#### 3. 사용자 경험
- **온보딩**: 스와이프 가능한 앱 소개
- **반응형 UI**: 다양한 화면 크기 대응
- **에러 처리**: 사용자 친화적 피드백 시스템

---

## 🛠 트러블 슈팅

### 🔹 문제 1: 온보딩 화면 Bottom Overflow
- **원인:** 고정 높이 사용으로 인한 작은 화면에서의 레이아웃 오버플로우
- **해결:** `Flexible`과 `Expanded`를 활용한 반응형 레이아웃 구현, `MediaQuery`로 동적 화면 크기 계산

### 🔹 문제 2: CustomButton 아이콘 미지원
- **원인:** 기존 CustomButton 위젯에서 icon 파라미터가 정의되지 않음
- **해결:** icon, iconSize 파라미터 추가 및 아이콘-텍스트 조합 레이아웃 구현

### 🔹 문제 3: Firebase 초기화 타이밍 이슈
- **원인:** main() 함수에서 Firebase 초기화 전에 위젯 실행
- **해결:** `WidgetsFlutterBinding.ensureInitialized()` 추가 및 async/await 패턴 적용

### 🔹 문제 4: 이미지 에셋 경로 문제
- **원인:** 온보딩 이미지 경로 불일치로 인한 이미지 로드 실패
- **해결:** assets 경로 통일 및 에러 처리가 포함된 이미지 위젯 구현

### 🔹 문제 5: 회원가입 화면 import 충돌
- **원인:** hide 절 사용으로 인한 CustomTextField, CustomButton 중복 import
- **해결:** 정확한 경로 지정 및 hide 절 제거로 충돌 해결

---

## 📚 학습한 내용

### ✅ 1. Firebase 프로젝트 설정 및 Flutter 연동
- FlutterFire CLI를 활용한 자동 설정 방법 학습
- Android/iOS 플랫폼별 Firebase 설정 파일 관리
- DefaultFirebaseOptions 클래스를 통한 멀티 플랫폼 지원

### ✅ 2. Firebase Authentication 심화
- FirebaseAuth와 Firestore 연동을 통한 사용자 데이터 관리
- 실시간 인증 상태 변화 감지 및 UI 업데이트
- 사용자 등록 시 Firestore 문서 자동 생성 패턴

### ✅ 3. Firestore 데이터 모델링
- NoSQL 특성을 고려한 효율적인 데이터 구조 설계
- 중첩 데이터와 참조를 활용한 관계형 데이터 표현
- 쿼리 최적화를 위한 인덱스 필드 활용 방법

### ✅ 4. Flutter 상태 관리 패턴
- Stream 기반 실시간 데이터 바인딩
- StatefulWidget과 Firebase Stream의 효율적 연동
- 메모리 누수 방지를 위한 리소스 해제 패턴

### ✅ 5. 커스텀 위젯 개발
- 재사용 가능한 UI 컴포넌트 설계 원칙
- 파라미터 기반 위젯 커스터마이징 기법
- 일관된 디자인 시스템 구축 방법론

### ✅ 6. 반응형 UI 설계
- MediaQuery를 활용한 동적 레이아웃 계산
- Flexible과 Expanded의 적절한 활용
- 다양한 화면 크기에 대응하는 UI 패턴

### ✅ 7. 폼 유효성 검증
- 실시간 폼 검증 및 사용자 피드백
- 정규 표현식을 활용한 이메일/비밀번호 검증
- 사용자 경험을 고려한 에러 메시지 디자인

### ✅ 8. 소셜 기능 아키텍처 설계
- 사용자 간 관계 모델링 (친구, 팔로워, 팔로잉)
- 친구 요청 시스템의 상태 관리
- 권한 기반 콘텐츠 접근 제어 설계

---

## 💬 느낀 점

Firebase를 활용한 실제 소셜 앱 개발을 통해 백엔드 없이도 완전한 기능을 구현할 수 있음을 체험했습니다. 특히 Firebase Authentication과 Firestore의 실시간 동기화 기능이 Flutter의 상태 관리와 자연스럽게 연동되어 효율적인 개발이 가능했습니다.

온보딩 화면 개발 과정에서 반응형 UI의 중요성을 다시 한번 깨달았습니다. 처음에는 고정 크기로 구현했지만, 다양한 화면 크기에서 발생하는 오버플로우 문제를 해결하면서 `Flexible`과 `MediaQuery`의 강력함을 이해할 수 있었습니다.

커스텀 위젯 개발 과정에서는 재사용성과 확장성을 고려한 설계의 중요성을 배웠습니다. CustomButton에 아이콘 기능을 추가하면서, 초기 설계 시 확장 가능성을 염두에 두는 것이 얼마나 중요한지 실감했습니다.

가장 인상 깊었던 것은 소셜 기능을 위한 데이터 모델링 과정입니다. 단순히 User 모델에서 시작해서 친구 관계, 팔로워 시스템, 타임캡슐 공유 권한까지 확장하면서 NoSQL 데이터베이스의 유연성과 동시에 신중한 설계의 필요성을 느꼈습니다.

Firebase의 실시간 기능을 활용하면서 전통적인 REST API와는 다른 개발 패러다임을 경험할 수 있었고, 이는 향후 실시간 협업 앱이나 채팅 앱 개발에 큰 도움이 될 것 같습니다.

---

## 📌 향후 계획

1. **홈 화면 개발**: 받은/보낸 타임캡슐 목록 및 관리 기능
2. **친구 관리 시스템**: 친구 찾기, 요청 관리, 친구 목록 화면
3. **타임캡슐 생성 기능**: 멀티미디어 업로드, 수신자 선택, 공개 범위 설정
4. **알림 시스템**: 푸시 알림 및 타임캡슐 열람 시간 알림
5. **미디어 처리**: Firebase Storage 연동 및 이미지/비디오 업로드
6. **위치 기반 기능**: 특정 장소에서 열리는 타임캡슐 구현
7. **UI/UX 개선**: 다크 모드, 애니메이션, 접근성 향상
8. **성능 최적화**: 이미지 캐싱, 데이터 페이지네이션, 오프라인 지원
